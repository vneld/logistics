<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>스포츠 리더십 퀴즈</title>
  <style>
    /* ...[생략: 기존 스타일 그대로 유지]... */
  </style>
</head>
<body>
  <h1>스포츠 리더십 퀴즈</h1>

  <div id="mode-buttons">
    <div class="button-row">
      <button onclick="startQuiz('all')">전체 퀴즈 시작</button>
    </div>
  </div>

  <div id="quiz" style="display: none;">
    <div id="question"></div>
    <input type="text" id="answerInput" placeholder="정답을 입력하세요" onkeydown="if(event.key === 'Enter') checkAnswer()" />
    <div id="feedback"></div>
    <div id="score"></div>
    <button onclick="nextQuestion()">다음 문제</button>
  </div>

  <button class="back-button" id="backButton" onclick="goBack()">뒤로</button>

  <script>
    const allQuestions = [
      { sentence: "1. 가장 어려운 일은 __________이다.", answer: "사람 마음을 얻는 일" },
      { sentence: "2. 대학은 내일의 _______이 오늘의 _______을 만나는 곳이다.", answer: "지성인" },
      { sentence: "3. 아무리 쉬운 일이라도 협력하여 하면 훨씬 더 효과적이다를 이르는 속담은?", answer: "백지장도 맞들면 낫다" },
      // ...[전체 문제 유지]...
      { sentence: "85. 지도자는 ____________을 최대한 이끌어내야 한다.", answer: "팀의 역량" }
    ];

    let quiz = [], index = 0, correct = 0, total = 0;
    const questionEl = document.getElementById("question");
    const answerInput = document.getElementById("answerInput");
    const feedbackEl = document.getElementById("feedback");
    const scoreEl = document.getElementById("score");

    function startQuiz(mode) {
      index = 0;
      correct = 0;
      total = allQuestions.length;
      document.getElementById("mode-buttons").style.display = "none";
      document.getElementById("quiz").style.display = "block";
      document.getElementById("backButton").style.display = "block";

      if (mode === 'all') {
        quiz = [...allQuestions];
      }

      shuffleArray(quiz);
      showQuestion();
    }

    function showQuestion() {
      feedbackEl.textContent = "";
      scoreEl.textContent = `문제 ${index + 1} / ${quiz.length}`;
      answerInput.value = "";
      answerInput.focus();
      questionEl.textContent = quiz[index].sentence;
    }

    function checkAnswer() {
      const userAnswer = answerInput.value.trim();
      const correctAnswer = quiz[index].answer;

      if (userAnswer === correctAnswer) {
        feedbackEl.textContent = "정답입니다!";
        feedbackEl.className = "correct";
        correct++;
      } else {
        feedbackEl.textContent = `오답입니다. 정답: ${correctAnswer}`;
        feedbackEl.className = "incorrect";
      }
    }

    function nextQuestion() {
      if (index < quiz.length - 1) {
        index++;
        showQuestion();
      } else {
        endQuiz();
      }
    }

    function endQuiz() {
      questionEl.textContent = `퀴즈 완료! 정답 수: ${correct} / ${quiz.length}`;
      document.getElementById("answerInput").style.display = "none";
      document.getElementById("feedback").style.display = "none";
      scoreEl.textContent = "";
    }

    function goBack() {
      document.getElementById("mode-buttons").style.display = "block";
      document.getElementById("quiz").style.display = "none";
      document.getElementById("backButton").style.display = "none";
      document.getElementById("answerInput").style.display = "inline-block";
      document.getElementById("feedback").style.display = "block";
    }

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }
  </script>

  <button class="back-button" onclick="window.location.href='/logistics/index.html'">이전</button>
</body>
</html>
